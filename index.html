<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>NERPLO Risk Manager</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>

<div class="app">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div>
      <div class="brand-title">NERPLO</div>
      <div class="brand-sub">Trading Risk Manager</div>
    </div>

    <div class="nav-section-title">Ferramentas</div>

    <div class="nav">
      <button id="btnSimulator" class="nav-btn active">
        üìä Simulador de Banca
      </button>

      <button id="btnPosition" class="nav-btn">
        üìè Calculadora de Posi√ß√£o
      </button>
    </div>

    <div class="sidebar-footer">
      v0.3 ‚Ä¢ NERPLO
    </div>
  </aside>

  <!-- MAIN -->
  <main class="main">

    <div>
      <div class="main-title">Simulador de Banca</div>
      <div class="main-subtitle">
        Simule crescimento ou queda da sua banca com base em risco, taxa de acerto e R:R.
      </div>
    </div>

    <!-- SIMULADOR DE BANCA -->
    <section id="simulatorSection" class="card">

      <div class="fields-row">
        <div class="field">
          <label>Banca inicial (US$)</label>
          <input type="number" id="simInitial" value="100" />
        </div>

        <div class="field">
          <label>Risco por trade (%)</label>
          <input type="number" id="simRisk" value="2" />
        </div>

        <div class="field">
          <label>Taxa de acerto (%)</label>
          <input type="number" id="simWinRate" value="50" />
        </div>

        <div class="field">
          <label>R : R</label>
          <input type="number" id="simRR" value="2" />
        </div>

        <div class="field">
          <label>N¬∫ de trades</label>
          <input type="number" id="simTrades" value="50" />
        </div>
      </div>

      <button id="runSimulation" class="btn-primary">
        Simular estrat√©gia
      </button>

      <div id="simulatorError" class="error"></div>

      <div id="simulatorResults" class="results">

        <div class="results-row">
          <div class="result-card">
            <div class="result-item-label">Ganho por trade vencedor</div>
            <div class="result-item-value" id="winValue">‚Äì</div>
          </div>

          <div class="result-card">
            <div class="result-item-label">Perda por trade perdedor</div>
            <div class="result-item-value" id="lossValue">‚Äì</div>
          </div>
        </div>

        <div class="results-row">
          <div class="result-card">
            <div class="result-item-label" id="expectedLabel">Banca esperada ap√≥s N trades</div>
            <div class="result-item-value" id="expectedBank">‚Äì</div>
          </div>

          <div class="result-card">
            <div class="result-item-label" id="allWinLabel">Banca se todos os trades vencerem</div>
            <div class="result-item-value" id="allWinBank">‚Äì</div>
          </div>

          <div class="result-card">
            <div class="result-item-label" id="allLossLabel">Banca se todos os trades perderem</div>
            <div class="result-item-value" id="allLossBank">‚Äì</div>
          </div>
        </div>

        <span id="expectancyBadge" class="badge"></span>
      </div>

    </section>

    <!-- CALCULADORA DE POSI√á√ÉO -->
    <section id="positionSection" class="card" style="margin-top:30px; display:none;">

      <div class="main-title">Calculadora de Tamanho de Posi√ß√£o</div>
      <div class="main-subtitle">
        Descubra a posi√ß√£o ideal para manter risco fixo.
      </div>

      <div style="margin: 10px 0;">
        <button id="mode1Btn" class="nav-btn active">Modo 1: Stop em %</button>
        <button id="mode2Btn" class="nav-btn">Modo 2: Pre√ßo de stop</button>
      </div>

      <div class="fields-row">
        <div class="field">
          <label>Risco por trade (US$)</label>
          <input type="number" id="posRisk" value="40" />
        </div>

        <div class="field">
          <label>Alavancagem (x)</label>
          <input type="number" id="posLeverage" value="1" />
        </div>
      </div>

      <!-- MODO 1 -->
      <div id="mode1Fields" class="fields-row">
        <div class="field">
          <label>Stop loss (%)</label>
          <input type="number" id="posStopPercent" />
        </div>
      </div>

      <!-- MODO 2 -->
      <div id="mode2Fields" class="fields-row" style="display:none;">
        <div class="field">
          <label>Pre√ßo de entrada</label>
          <input type="number" id="posEntry" />
        </div>

        <div class="field">
          <label>Pre√ßo do stop</label>
          <input type="number" id="posStop" />
        </div>
      </div>

      <button id="calcPosition" class="btn-primary">
        Calcular posi√ß√£o
      </button>

      <div id="positionError" class="error"></div>

      <div id="positionResults" class="results">

        <div class="results-row">
          <div class="result-card">
            <div class="result-item-label">Stop (%)</div>
            <div class="result-item-value" id="stopCalc">‚Äì</div>
          </div>

          <div class="result-card">
            <div class="result-item-label">Tamanho da posi√ß√£o</div>
            <div class="result-item-value" id="positionCalc">‚Äì</div>
          </div>

          <div class="result-card">
            <div class="result-item-label">Margem necess√°ria</div>
            <div class="result-item-value" id="marginCalc">‚Äì</div>
          </div>
        </div>

      </div>

    </section>

  </main>

</div>

<script src="assets/js/main.js"></script>
</body>
</html>
