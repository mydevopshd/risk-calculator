<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>NERPLO Risk Manager</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <script src="assets/js/main.js" defer></script>

  <style>
    .mode-switch {
      display: flex;
      gap: 10px;
      margin-bottom: 16px;
    }

    .mode-btn {
      flex: 1;
      padding: 8px;
      border-radius: 999px;
      border: 1px solid #1f2937;
      background: transparent;
      color: #d1d5db;
      cursor: pointer;
      font-size: 0.85rem;
    }

    .mode-btn.active {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #052e16;
      font-weight: bold;
    }
  </style>
</head>

<body>

<div class="app">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div>
      <div class="brand-title">NERPLO</div>
      <div class="brand-sub">Painel de Gest√£o de Risco</div>
    </div>

    <div class="nav-section-title">Ferramentas</div>

    <nav class="nav">
      <button class="nav-btn active" data-tool="tool-banca">
        üßÆ Simulador de Banca
      </button>

      <button class="nav-btn" data-tool="tool-posicao">
        üìè Calculadora de Posi√ß√£o
      </button>
    </nav>

    <div class="sidebar-footer">v0.5 ‚Ä¢ NERPLO</div>
  </aside>


  <!-- MAIN -->
  <main class="main">

    <!-- ==================== TOOL A ==================== -->
    <section id="tool-banca" class="card">

      <h1 class="main-title">Simulador de Sobreviv√™ncia da Banca</h1>
      <p class="main-subtitle">
        Veja como sua banca se comporta ao longo dos trades.
      </p>

      <div class="fields-row">

        <div class="field">
          <label>Banca inicial (US$)</label>
          <input id="bank" type="number" value="100">
        </div>

        <div class="field">
          <label>Risco por trade (%)</label>
          <input id="riskPct" type="number" value="2">
        </div>

        <div class="field">
          <label>Taxa de acerto (%)</label>
          <input id="winRate" type="number" value="50">
        </div>

        <div class="field">
          <label>R:R</label>
          <input id="rr" type="number" value="2">
        </div>

        <div class="field">
          <label>N¬∫ de trades</label>
          <input id="numTrades" type="number" value="50">
        </div>

      </div>

      <button id="simulateBtn" class="btn-primary">Simular estrat√©gia</button>
      <div id="simError" class="error"></div>

      <div id="simResults" class="results">

        <div class="results-row">
          <div class="result-card">
            <div class="result-item-label">Ganho por trade vencedor</div>
            <div id="winPerTrade" class="result-item-value">‚Äî</div>
          </div>

          <div class="result-card">
            <div class="result-item-label">Perda por trade perdedor</div>
            <div id="lossPerTrade" class="result-item-value">‚Äî</div>
          </div>
        </div>

        <div class="results-row">
          <div class="result-card">
            <div id="labelExpected" class="result-item-label"></div>
            <div id="expectedBank" class="result-item-value">‚Äî</div>
          </div>

          <div class="result-card">
            <div id="labelAllWins" class="result-item-label"></div>
            <div id="bankAllWins" class="result-item-value">‚Äî</div>
          </div>

          <div class="result-card">
            <div id="labelAllLosses" class="result-item-label"></div>
            <div id="bankAllLosses" class="result-item-value">‚Äî</div>
          </div>
        </div>

        <div id="expBadge" class="badge"></div>

      </div>

    </section>



    <!-- ==================== TOOL B ==================== -->
    <section id="tool-posicao" class="card" style="display:none;">

      <h1 class="main-title">Calculadora de Tamanho da Posi√ß√£o</h1>
      <p class="main-subtitle">
        Descubra exatamente qual o tamanho do trade para arriscar apenas o valor que voc√™ deseja.
      </p>

      <div class="mode-switch">
        <button id="mode1Btn" class="mode-btn active" type="button">
          Modo 1: Risco + Stop %
        </button>
        <button id="mode2Btn" class="mode-btn" type="button">
          Modo 2: Risco + Entrada + Stop
        </button>
      </div>

      <div class="fields-row">

        <div class="field">
          <label>Risco por trade (US$)</label>
          <input id="risk" type="number" value="40">
        </div>

        <div class="field">
          <label>Alavancagem (x)</label>
          <input id="leverage" type="number" value="1">
        </div>
      </div>

      <!-- MODO 1 -->
      <div id="mode1Fields" class="fields-row">
        <div class="field">
          <label>Stop Loss (%)</label>
          <input id="stopPercent" type="number" placeholder="Ex: 2">
        </div>
      </div>

      <!-- MODO 2 -->
      <div id="mode2Fields" class="fields-row" style="display:none;">
        <div class="field">
          <label>Pre√ßo de entrada</label>
          <input id="entryPrice" type="number" placeholder="Ex: 90000">
        </div>

        <div class="field">
          <label>Pre√ßo do stop</label>
          <input id="stopPrice" type="number" placeholder="Ex: 89000">
        </div>
      </div>

      <button id="calcBtn" class="btn-primary">Calcular posi√ß√£o</button>
      <div id="error" class="error"></div>

      <div id="result" class="results">

        <div class="results-row">
          <div class="result-card">
            <div class="result-item-label">Stop (%)</div>
            <div id="stopValue" class="result-item-value">‚Äî</div>
          </div>

          <div class="result-card">
            <div class="result-item-label">Tamanho da posi√ß√£o (US$)</div>
            <div id="posValue" class="result-item-value">‚Äî</div>
          </div>

          <div class="result-card">
            <div class="result-item-label">Margem necess√°ria</div>
            <div id="marginValue" class="result-item-value">‚Äî</div>
          </div>
        </div>

      </div>

    </section>

  </main>
</div>

</body>
</html>
